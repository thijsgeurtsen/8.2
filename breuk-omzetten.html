<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Breuk omzetten</title>
<style>
  body{
    font-family: system-ui, sans-serif;
    background:#f4f6ff;
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
  }
  .container{
    background:white;
    padding:2.5rem;
    border-radius:1.5rem;
    box-shadow:0 10px 30px rgba(0,0,0,.1);
    max-width:520px;
    width:95%;
    text-align:center;
  }
  h1{margin:0 0 .5rem}
  .subtitle{color:#555;margin-bottom:1.5rem}
  .stats{display:flex;justify-content:space-between;margin-bottom:1.5rem;font-weight:600}
  .question{font-size:3rem;margin:1rem 0}
  input{
    font-size:1.5rem;
    padding:.5rem 1rem;
    width:140px;
    text-align:center;
  }
  button{
    margin-top:1rem;
    padding:.8rem 1.5rem;
    border:none;
    border-radius:999px;
    background:#4f46e5;
    color:white;
    font-size:1rem;
    cursor:pointer;
  }
  .feedback{margin-top:.5rem;font-weight:700}
</style>
</head>

<body>
<div class="container">
  <h1>Breuk omzetten</h1>
  <p class="subtitle" id="instruction"></p>

  <div class="stats">
    <div>‚è±Ô∏è <span id="time">2:00</span></div>
    <div>‚úîÔ∏è <span id="good">0</span></div>
    <div>üìä <span id="tries">0</span></div>
  </div>

  <div class="question" id="question"></div>

  <input id="answer" placeholder="antwoord" autocomplete="off">
  <div class="feedback" id="feedback"></div>

  <button onclick="start()">Start 2-minutentest</button>
</div>

<script>
const fractions = [
  {f:"1/2", dec:"0,5", perc:"50%"},
  {f:"1/4", dec:"0,25", perc:"25%"},
  {f:"3/4", dec:"0,75", perc:"75%"},
  {f:"1/5", dec:"0,2", perc:"20%"},
  {f:"2/5", dec:"0,4", perc:"40%"},
  {f:"1/10", dec:"0,1", perc:"10%"}
];

let correct="", timer, time=120, good=0, tries=0;

const qEl = document.getElementById("question");
const aEl = document.getElementById("answer");
const fEl = document.getElementById("feedback");
const iEl = document.getElementById("instruction");

function newQuestion(){
  const item = fractions[Math.floor(Math.random()*fractions.length)];
  const mode = Math.random()<0.5 ? "dec" : "perc";

  qEl.textContent = item.f;
  if(mode==="dec"){
    iEl.textContent = "Schrijf als decimaal";
    correct = item.dec;
  } else {
    iEl.textContent = "Schrijf als procent";
    correct = item.perc;
  }

  aEl.value="";
  aEl.focus();
}

aEl.addEventListener("keydown", e=>{
  if(e.key==="Enter"){
    tries++;
    document.getElementById("tries").textContent=tries;
    if(aEl.value.replace(",",".")===correct.replace(",", ".")){
      good++;
      document.getElementById("good").textContent=good;
      fEl.textContent="Goed!";
      fEl.style.color="green";
    } else {
      fEl.textContent="Helaas";
      fEl.style.color="red";
    }
    newQuestion();
  }
});

function start(){
  good=0; tries=0; time=120;
  document.getElementById("good").textContent=0;
  document.getElementById("tries").textContent=0;
  fEl.textContent="";
  newQuestion();

  clearInterval(timer);
  timer=setInterval(()=>{
    time--;
    document.getElementById("time").textContent =
      Math.floor(time/60)+":"+String(time%60).padStart(2,"0");
    if(time<=0){
      clearInterval(timer);
      aEl.disabled=true;
    }
  },1000);

  aEl.disabled=false;
}
</script>
</body>
</html>
